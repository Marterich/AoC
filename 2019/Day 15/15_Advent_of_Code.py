rawinp = 3,1033,1008,1033,1,1032,1005,1032,31,1008,1033,2,1032,1005,1032,58,1008,1033,3,1032,1005,1032,81,1008,1033,4,1032,1005,1032,104,99,1001,1034,0,1039,1002,1036,1,1041,1001,1035,-1,1040,1008,1038,0,1043,102,-1,1043,1032,1,1037,1032,1042,1105,1,124,1001,1034,0,1039,1001,1036,0,1041,1001,1035,1,1040,1008,1038,0,1043,1,1037,1038,1042,1106,0,124,1001,1034,-1,1039,1008,1036,0,1041,101,0,1035,1040,1001,1038,0,1043,102,1,1037,1042,1105,1,124,1001,1034,1,1039,1008,1036,0,1041,1002,1035,1,1040,101,0,1038,1043,101,0,1037,1042,1006,1039,217,1006,1040,217,1008,1039,40,1032,1005,1032,217,1008,1040,40,1032,1005,1032,217,1008,1039,5,1032,1006,1032,165,1008,1040,35,1032,1006,1032,165,1102,1,2,1044,1106,0,224,2,1041,1043,1032,1006,1032,179,1102,1,1,1044,1105,1,224,1,1041,1043,1032,1006,1032,217,1,1042,1043,1032,1001,1032,-1,1032,1002,1032,39,1032,1,1032,1039,1032,101,-1,1032,1032,101,252,1032,211,1007,0,44,1044,1105,1,224,1102,0,1,1044,1106,0,224,1006,1044,247,1002,1039,1,1034,1001,1040,0,1035,1001,1041,0,1036,1002,1043,1,1038,102,1,1042,1037,4,1044,1105,1,0,5,26,24,17,68,40,71,9,36,46,67,39,48,8,20,23,12,47,28,13,47,2,68,17,71,31,63,31,83,14,78,31,8,33,30,63,30,5,7,11,91,97,17,84,23,37,46,6,14,59,1,76,41,63,85,83,86,63,33,13,50,17,37,16,59,8,7,35,71,9,23,67,46,62,58,38,76,3,71,43,17,64,29,30,72,91,17,70,21,15,76,31,89,20,38,27,65,53,60,34,90,99,56,15,45,57,8,52,70,36,15,79,32,35,83,78,10,3,90,16,74,14,84,43,20,81,91,25,71,83,24,31,92,72,34,59,27,78,6,31,14,31,76,9,80,63,35,40,92,12,84,65,41,27,82,10,7,56,25,70,4,98,16,37,65,46,78,11,97,20,16,95,98,24,31,3,57,74,42,99,36,34,74,10,81,46,43,97,2,24,61,55,13,96,41,41,46,14,64,2,46,94,53,3,3,81,37,85,7,54,29,90,22,75,47,20,26,86,69,53,89,17,2,55,13,85,99,90,2,48,29,66,55,31,19,39,59,56,98,28,38,10,46,10,62,20,63,18,53,97,9,32,6,46,3,91,24,6,62,30,73,26,24,50,3,16,78,3,34,50,8,18,40,65,64,21,28,30,87,45,99,8,21,77,40,73,38,56,12,86,64,43,61,89,4,55,47,28,14,8,99,52,51,40,82,26,19,68,17,53,70,5,14,22,64,69,84,14,69,2,80,18,79,5,66,18,34,48,31,34,54,50,8,33,73,38,52,94,71,7,31,94,31,93,66,82,39,40,42,80,91,70,10,6,50,35,96,13,7,89,22,58,30,24,85,81,88,55,7,58,38,91,55,11,35,84,28,87,26,78,48,66,11,88,8,18,68,55,38,6,1,57,60,1,8,99,58,21,29,88,32,32,57,72,8,20,45,5,91,39,51,59,82,29,52,37,33,49,5,28,38,17,6,58,67,11,72,51,42,4,3,12,94,84,25,31,72,32,89,49,4,23,57,49,27,38,50,30,23,15,80,4,12,67,14,48,76,91,58,11,63,37,95,1,15,22,84,8,23,87,61,32,78,87,7,47,1,81,31,84,91,21,19,68,6,87,3,72,43,60,23,67,42,40,62,9,86,33,84,69,24,97,37,49,24,67,2,16,52,3,42,49,3,95,84,61,8,40,79,10,74,51,6,77,63,1,66,7,55,24,80,68,17,30,47,54,30,77,40,99,18,85,99,85,2,27,18,33,54,99,27,5,64,39,22,66,12,71,29,26,35,49,13,41,22,76,30,70,30,75,34,7,5,62,1,23,61,43,90,24,91,40,42,75,48,40,91,39,46,38,56,17,28,51,56,7,51,40,56,22,87,43,99,6,58,93,35,47,83,10,57,55,68,34,68,93,28,55,11,3,53,80,9,41,42,50,95,7,4,84,10,91,33,12,99,98,60,76,73,24,70,46,72,27,36,62,27,25,43,59,39,9,95,72,9,17,79,36,52,52,22,4,55,57,16,19,65,62,83,11,76,73,37,89,21,86,6,88,17,93,1,59,8,48,73,90,96,10,85,46,12,99,16,16,76,4,2,2,45,62,30,12,14,72,60,9,19,71,43,41,36,99,69,38,1,1,48,32,33,83,26,15,51,19,31,71,92,8,49,34,87,32,80,73,28,65,95,7,8,85,12,63,22,83,8,70,1,82,96,59,29,95,43,59,72,68,38,48,11,87,54,90,11,93,30,63,12,96,41,64,21,89,24,94,73,79,18,55,40,95,0,0,21,21,1,10,1,0,0,0,0,0,0
print(type(rawinp))
inputlist = list(rawinp)

for x in range(1000):
	inputlist.append(0)
# in_put = 2 #int(input("Userinput: "))##1 Für Teil 1 und 5 Für Teil 2###  #
STATUS = 0
output = 0
address = 0
relative_base = 0
debug = False
#Herausfinden ob welche Adressen im position oder immediate mode genutzt werden sollen
def opcode1(address, opcode):
	
	#Test der Position 3 (A)
	if opcode[0] == "0":
		value3 = inputlist[address+3]
	elif opcode[0] == "1":
		value3 = inputlist[address+3]
	elif opcode[0] == "2":
		value3 = relative_base + inputlist[address+3]
	#Test der Position 2 (B)
	if opcode[1] == "0":
		value2 = inputlist[inputlist[address+2]]
	elif opcode[1] == "1":
		value2 = inputlist[address+2]
	elif opcode[1] == "2":
		value2 = inputlist[relative_base + inputlist[address+2]]
	#Test der Position 1 (C)
	if opcode[2] == "0":

		value1 = inputlist[inputlist[address+1]]
	elif opcode[2] == "1":
		value1 = inputlist[address+1]
	elif opcode[2] == "2":
		value1 = inputlist[relative_base + inputlist[address+1]]
	sum = value1 + value2

	return value3, sum

#Herausfinden ob welche Adressen im position oder immediate mode genutzt werden sollen
def opcode2(address, opcode):
	#Test der Position 3 (A)
	if opcode[0] == "0":
		value3 = inputlist[address+3]
	elif opcode[0] == "1":
		value3 = inputlist[address+3]
	elif opcode[0] == "2":
		value3 = relative_base + inputlist[address+3]
	#Test der Position 2 (B)
	if opcode[1] == "0":
		value2 = inputlist[inputlist[address+2]]
	elif opcode[1] == "1":
		value2 = inputlist[address+2]
	elif opcode[1] == "2":
		value2 = inputlist[relative_base + inputlist[address+2]]

	#Test der Position 1 (C)
	if opcode[2] == "0":
		value1 = inputlist[inputlist[address+1]]
	elif opcode[2] == "1":
		value1 = inputlist[address+1]
	elif opcode[2] == "2":
		value1 = inputlist[relative_base + inputlist[address+1]]
	
	# print("Address: " + str(address))
	# print(opcode)
	# # print(inputlist[address+3])
	# print(relative_base + inputlist[address+3])
	sum = value1 * value2

	return value3, sum

#Position herausfinden an dem der Userinput gespeichert werden soll		
def opcode3(address, opcode):
	if opcode[2] == "0":
		
		value1 = inputlist[address+1]
		return value1
	elif opcode[2] == "1":
		print("Error in Opcode3")

	elif opcode[2] == "2":
		# print("3,2")
		# print(relative_base+inputlist[address+1])
		return relative_base+inputlist[address+1]
	
	
#Test ob Opcode 4 im position oder immediate mode ausgeführt wird
def opcode4(address, opcode):

	if opcode[2] == "0":
		value1 = inputlist[inputlist[address+1]]
	elif opcode[2] == "1":
		value1 = inputlist[address+1]
	elif opcode[2] == "2":
		value1 = inputlist[relative_base + inputlist[address+1]]
	
	return value1

#Test ob Opcode 5 im position oder immediate mode ausgeführt wird
def opcode5(address, opcode):
	#Test der Position 2 (B)
	# print(address)
	if opcode[2] == "0":
		value1 = inputlist[inputlist[address+1]]
		# print(inputlist[inputlist[address+1]])
	elif opcode[2] == "1":
		value1 = inputlist[address+1]
		# print(inputlist[address+1])
	elif opcode[2] == "2":
		value1 = inputlist[relative_base + inputlist[address+1]]
		# print(inputlist[relative_base + inputlist[address+1]])
	if str(value1) != "0":
		if (opcode[1]) == "0":
			value2 = inputlist[inputlist[address+2]]

		elif opcode[1] == "1":
			value2 = inputlist[address+2]
			# print(inputlist[address+2])
		elif opcode[1] == "2":
			value2 = inputlist[relative_base + inputlist[address+2]]
			
		return value2
	else:
		return address + 3

#Test ob Opcode 6 im position oder immediate mode ausgeführt wird
def opcode6(address, opcode):
	
	# print("opcode6")
	#Test der Postition 1 (C)
	if opcode[2] == "0":
		value1 = inputlist[inputlist[address+1]]
	elif opcode[2] == "1":
		value1 = inputlist[address+1]
	elif opcode[2] == "2":
		value1 = inputlist[relative_base + inputlist[address+1]]
	
	if str(value1) == "0":
		if (opcode[1]) == "0":
			value2 = inputlist[inputlist[address+2]]
		elif opcode[1] == "1":
			value2 = inputlist[address+2]	
		elif opcode[1] == "2":
			value2 = inputlist[relative_base + inputlist[address+2]]
		return value2
	else:
		return address + 3
#Test ob Opcode 7 im position oder immediate mode ausgeführt wird
def opcode7(address, opcode):

	#Test der Position 3 (A)
	if opcode[0] == "0":
		value3 = inputlist[address+3]
	elif opcode[0] == "1":
		value3 = inputlist[address+3]
	elif opcode[0] == "2":
		value3 = relative_base + inputlist[address+3]
	#Test der Position 2 (B)
	if opcode[1] == "0":
		value2 = inputlist[inputlist[address+2]]
	elif opcode[1] == "1":
		value2 = inputlist[address+2]
	elif opcode[1] == "2":
		value2 = inputlist[relative_base + inputlist[address+2]]
	#Test der Position 1 (C)
	if opcode[2] == "0":
		# print("asdf")
		value1 = inputlist[inputlist[address+1]]
	elif opcode[2] == "1":
		value1 = inputlist[address+1]
	elif opcode[2] == "2":
		value1 = inputlist[relative_base + inputlist[address+1]]

	# print(value1, value2)
	# print(inputlist)
	if (value1 < value2):
		sum = 1
	else:
		sum = 0
	# print(address)
	# print(value1, value2)
	# print(value3, sum)

	return value3, sum
#Test ob Opcode 8 im position oder immediate mode ausgeführt wird
def opcode8(address, opcode):
	# print(address)

	#Test der Position 3 (A)
	if opcode[0] == "0":
		value3 = inputlist[address+3]
	elif opcode[0] == "1":
		value3 = inputlist[address+3]
	elif opcode[0] == "2":
		value3 = relative_base + inputlist[address+3]
	#Test der Position 2 (B)
	# print(opcode[1] == "1")
	if opcode[1] == "0":
		value2 = inputlist[inputlist[address+2]]
	elif opcode[1] == "1":
		value2 = inputlist[address+2]
	elif opcode[1] == "2":
		value2 = inputlist[relative_base + inputlist[address+2]]
	#Test der Position 1 (C)
	if opcode[2] == "0":
		value1 = inputlist[inputlist[address+1]]
	elif opcode[2] == "1":
		value1 = inputlist[address+1]
	elif opcode[2] == "2":
		value1 = inputlist[relative_base + inputlist[address+1]]
	# print(value1, value2)
	if (value1 == value2):
		sum = 1
	else:
		sum = 0
	return value3, sum
#Test ob Opcode 9 im position oder immediate mode ausgeführt wird
def opcode9(address, opcode):
	
	global relative_base
	# print(opcode[2] == "2")
	
	if opcode[2] == "0":
		# print("=0=")
		value1 =inputlist[inputlist[address+1]]
		# print(inputlist[inputlist[address+1]])
	elif opcode[2] == "1":
		# print("=1=")
		value1 =inputlist[address+1]
		# print(inputlist[inputlist[address+1]])
	elif opcode[2] == "2":
		# print("=2=")
		value1 = inputlist[relative_base + inputlist[address+1]]
		# print(inputlist[relative_base + inputlist[address+1]])
	# print(address)

	
	return value1

#Opcode Berechnen und auf 5 Zeichen auffüllen
def get_opcode(address):
	opcode = str(inputlist[address])
	while (len(opcode) < 5):
		opcode = "0" + opcode
	# print(str(address) + " : "+ str(opcode))
	return(opcode)

direction = 1
position = []
def turnright():
	global direction	
	if direction == 1:
		direction = 3
	elif direction == 3:
		direction = 2
	elif direction == 2:
		direction = 4
	else :
		direction = 1
	return direction
def turnleft():
	global direction	
	if direction == 1:
		direction = 4
	elif direction == 4:
		direction = 2
	elif direction == 2:
		direction = 3
	else :
		direction = 1
	return direction

def move(status):
	global direction
	global position
	
	if status == str(1):
		direction = turnleft()
		
	if status == str(2):
		print("found Vent")
		return(123)
	else:
		direction = turnright()
	print("direction",direction)
	return(direction)

##############################################################################
#Loop über alles mit Abbruchbedingung
while (True):
	opcode = get_opcode(address)
	# print(address)
	# print("Address: " + str(address))
	#Test ob es sich um einen Opcode1 handelt
	if opcode[-2:] == "01":
		if debug:
			print("Address: "+str(address) + " current opcode: 1, " + str(opcode))
			# print("New Value: " + str(opcode1(address, opcode)[1]) + " at Position: " + str(opcode1(address, opcode)[0]))
			print("loc " + str(opcode1(address,opcode)[0]) + " from " + str(inputlist[opcode1(address,opcode)[0]]) + " to " + str(opcode1(address, opcode)[1]))

		inputlist[opcode1(address, opcode)[0]] = opcode1(address, opcode)[1]
		
		

			# print(inputlist)
		address += 4	
	#Test ob es sich um einen Opcode2 handelt
	elif opcode[-2:] == "02":
		if debug:	
			print("Address: "+str(address) + " current opcode: 2, " + str(opcode))
			print("loc " + str(opcode2(address,opcode)[0]) + " from " + str(inputlist[opcode2(address,opcode)[0]]) + " to " + str(opcode2(address, opcode)[1]))
		inputlist[opcode2(address, opcode)[0]] = opcode2(address, opcode)[1]

			# print(inputlist)
		address += 4
	#Test ob es sich um einen Opcode3 handelt
	elif opcode[-2:] == "03":
		if debug:
			print("Address: "+str(address) + " current opcode: 3, " + str(opcode))
			# print("New Value: " + str(in_put) + " at Position: " + str(int(opcode3(address, opcode)))
			print("loc " + str(opcode3(address,opcode)) + " from " + str(inputlist[opcode3(address,opcode)]) + " to " + str(in_put))
		# print(inputlist[int(opcode3(address, opcode))])
		inputlist[int(opcode3(address, opcode))] = int(move(STATUS))
		
		# print(opcode3(address, opcode))
		# print(inputlist[int(opcode3(address, opcode))])
		# print(in_put)
			# print(inputlist)
		address += 2
	#Test ob es sich um einen Opcode4 handelt
	elif opcode[-2:] == "04":
		if debug:
			print("Address: "+str(address) + " current opcode: 4, " + str(opcode))
		
		STATUS = str(opcode4(address, opcode))
		print("Opcode4:", STATUS)
		# print(address)
		# print(inputlist)

		address += 2
	#Test ob es sich um einen Opcode5 handelt
	elif opcode[-2:] == "05":
		
		if debug:
			print("Address: "+str(address) + " current opcode: 5, " + str(opcode))
			print("changed address from " + str(address) + " to " + str(opcode5(address, opcode)))
		address = opcode5(address, opcode)
		# if debug:
		# 	print("New Address: " + str(address))
			# print(inputlist)
	#Test ob es sich um einen Opcode6 handelt
	elif opcode[-2:] == "06":
		if debug:
			print("Address: "+str(address) + " current opcode: 6, " + str(opcode))
		address = opcode6(address, opcode)
		if debug:
			print("New Address: " + str(address))
			# print(inputlist)
	#Test ob es sich um einen Opcode7 handelt
	elif opcode[-2:] == "07":
		if debug:
			print("Address: "+str(address) + " current opcode: 7, " + str(opcode))
			print("loc " + str(opcode7(address,opcode)[0]) + " from " + str(inputlist[opcode7(address,opcode)[0]]) + " to " + str(opcode7(address, opcode)[1]))
		inputlist[opcode7(address, opcode)[0]] = opcode7(address, opcode)[1]
		

			
			# print(inputlist)

		address += 4	
	#Test ob es sich um einen Opcode8 handelt
	elif opcode[-2:] == "08":
		# print("current opcode: 8, " + str(opcode))
		if debug:
			print("Address: "+str(address) + " current opcode: 8, " + str(opcode))
			# print("New Value: " + str(opcode8(address, opcode)[1]) + " at Position: " + str(opcode8(address, opcode)[0]))
			print("loc " + str(opcode8(address,opcode)[0]) + " from " + str(inputlist[opcode8(address,opcode)[0]]) + " to " + str(opcode8(address, opcode)[1]))
		inputlist[opcode8(address, opcode)[0]] = opcode8(address, opcode)[1]

			
			# print(inputlist)
		address += 4
	#Test ob es sich um einen Opcode9 handelt
	elif opcode[-2:] == "09":
		if debug:
			

			print("Address: "+str(address) + " current opcode: 9, " + str(opcode))
			# print(inputlist)
		if debug:
			print("changed relative base from " +str(relative_base) + " to " + str(relative_base+opcode9(address,opcode)))
		relative_base += opcode9(address, opcode)

	
		address += 2
	#Test ob es sich um einen Opcode99 handelt
	elif opcode[-2:] == "99":
		if debug:
			print("Opcode99")
			# print("Opcode99: " + str(inputlist))
		break
	#Fehlerabfang mit Diagnosedaten
	else:
		print(opcode)
		print("Error")
		break
